!function(a,b){"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))&&"object"==("undefined"===typeof module?"undefined":babelHelpers.typeof(module))?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==("undefined"===typeof exports?"undefined":babelHelpers.typeof(exports))?exports.imagePreloader=b():a.imagePreloader=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var f=c[d]={exports:{},id:d,loaded:!1};return a[d].call(f.exports,f,f.exports,b),f.loaded=!0,f.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){var d=c(2),f=function(h,i){this.onProgress="function"==typeof i?i:null,this.fallbackImage="string"==typeof h||h instanceof HTMLImageElement?h:null};f.simplePreload=function(g){return new Promise(function(h,i){var j;g instanceof HTMLImageElement?(j=g,j.complete?j.naturalHeight?h(j):i(j):(j.onload=h.bind(null,j),j.onerror=j.onabort=i.bind(null,j))):"string"==typeof g&&(j=new Image,j.onload=h.bind(null,j),j.onerror=j.onabort=i.bind(null,j),j.src=g)})},f.prototype.preload=function(){var h=this,i=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments));return i=i.map(function(j){return f.simplePreload(j)["catch"](function(k){return h.fallbackImage?f.simplePreload(h.fallbackImage).then(function(l){return k.setAttribute("data-fail-src",k.src),k.src=l.src,k},function(){return Promise.reject(k)}):Promise.reject(k)})}),d(i,h.onProgress)},a.exports=f},function(a){a.exports=function(d,f){var g=d.map(function(h){return h.then(function(i){return{value:i,status:!0}},function(i){return{value:i,status:!1}}).then(function(i){return"function"==typeof f&&f(i),i})});return Promise.all(g)}}])});