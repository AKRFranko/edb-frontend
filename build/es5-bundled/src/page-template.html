<html><head><link rel="prefetch" href="page-template.html"><link rel="prefetch" href="article-template.html"><link rel="prefetch" href="my-generic-page.html"></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="my-app.html"></div><dom-module id="page-template"><template><style include="shared-styles">:host{display:block;@apply --layout;min-height:100%;overflow:hidden;width:inherit;margin:inherit;}*{box-sizing:border-box;}#pageTemplate.page-template{position:relative;@apply --layout-vertical;clear:both;width:inherit;}.page-header,.page-content,.page-content-above,.page-content-below{width:inherit;min-width:inherit;position:relative;box-sizing:border-box;max-width:100%;text-align:center;}.page-image{position:absolute;top:0;left:0;bottom:0;right:0;z-index:-1;}.page-image god-damned-image{width:inherit;height:100%;}.page-title,.page-subtitle,.page-summary{position:relative;text-align:center;z-index:1;}.page-title{@apply --edb-headline-styles;margin-top:60px;margin-bottom:60px;@apply --page-title-styles;}.page-header{width:inherit;@apply --page-header-styles;}.page-summary{@apply --edb-subhead-styles;margin-top:60px;margin-bottom:60px;margin-left:auto;margin-right:auto;max-width:80%;}#pageHeader{width:inherit;}#pageAboveContent,#pageContent,#pageBelowContent{background:#fff;width:inherit;}#pageContent{min-height:calc(100vh - 192px);width:inherit;@apply --edb-copy-styles;}</style><div id="pageTemplate" class="page-template"><div id="pageHeader" class="page-header"><slot name="header-content"><div class="page-image"><god-damned-image src="[[image.src]]" colors="[[image.colors]]"></god-damned-image></div><div class="page-title">[[title]]</div><div class="page-subtitle">[[subtitle]]</div><div class="page-summary">[[summary]]</div></slot></div><div id="pageAboveContent" class="page-content-above page-content"><slot name="above-content"></slot></div><div id="pageContent" class="page-content"><slot name="page-content"><template is="juicy-html" html="[[content]]"></template></slot></div><div id="pageBelowContent" class="page-content-below page-content"><slot name="below-content"></slot></div></div></template><script>var PageTemplate=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'__setHasImage',value:function(d,e){return d&&e}},{key:'__onHasImageChanged',value:function(){if(this.hasImage){var d=this.$.pageHeader.getBoundingClientRect().width,e=this.options?this.options.headerHeight||0:0;this.$.pageHeader.style.height='calc(100vh - '+e+'px)',this.$.pageHeader.querySelector('.page-image').style.display='block'}else this.$.pageHeader.style.height='auto',this.$.pageHeader.querySelector('.page-image').style.display='none'}},{key:'__fixHeaderWidth',value:function(){var d=this;Polymer.Async.animationFrame.run(function(){var e=d.$.pageTemplate.getBoundingClientRect().width;e&&(d.$.pageHeader.style.width=e+'px',console.log('__fixHeaderWidth',e))})}},{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this.__onFixedHeaderChanged(),window.addEventListener('resize',this.__fixHeaderWidth.bind(this)),this.__fixHeaderWidth()}},{key:'__onFixedHeaderChanged',value:function(){var d=this,e=this.options?this.options.headerHeight||0:0;this.fixedHeader?Polymer.Async.idlePeriod.run(function(){d.$.pageHeader.style.position='fixed',d.$.pageHeader.style.top=e+'px',d.$.pageHeader.style.zIndex='-1';var f=d.$.pageHeader.getBoundingClientRect().height;d.$.pageTemplate.style.paddingTop=Math.max(f,192)+'px',d.__fixHeaderWidth()}):(this.$.pageHeader.style.position='relative',this.$.pageTemplate.style.paddingTop='0px',this.__fixHeaderWidth(),this.$.pageHeader.style.zIndex='0')}}],[{key:'is',get:function(){return'page-template'}},{key:'properties',get:function(){return{title:{type:String,value:null},subtitle:{type:String,value:null},summary:{type:String,value:null},image:{type:Object,value:function(){return{src:null,colors:[]}}},fixedHeader:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'__onFixedHeaderChanged'},hasImage:{type:Boolean,computed:'__setHasImage(image, image.src)',observer:'__onHasImageChanged'},content:{type:String,value:'<b>...</b>'}}}},{key:'observers',get:function(){return['__fixHeaderWidth(title,subtitle,summary,image,fixedHeader,hasImage)']}}]),b}(MyOptionsMixin(Polymer.Element));window.customElements.define(PageTemplate.is,PageTemplate);</script></dom-module></body></html>